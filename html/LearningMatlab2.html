
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>LearningMatlab2</title><meta name="generator" content="MATLAB 9.4"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2020-04-30"><meta name="DC.source" content="LearningMatlab2.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#1">&#25968;&#25454;&#25554;&#20540;</a></li><li><a href="#2">&#20351;&#29992;interp1&#20989;&#25968;&#65306;interp1&#65288;x,y,x1,mode&#65289;</a></li><li><a href="#3">&#26354;&#32447;&#25311;&#21512;</a></li><li><a href="#4">&#26368;&#23567;&#20108;&#20056;&#27861;&#65292;polyfit&#20989;&#25968;&#29992;&#20110;&#36827;&#34892;&#26354;&#32447;&#25311;&#21512;</a></li><li><a href="#5">dsolve&#20989;&#25968;&#21487;&#20197;&#36827;&#34892;&#24494;&#20998;&#26041;&#31243;&#30340;&#27714;&#35299;</a></li><li><a href="#6">&#29305;&#35299;&#65292;&#32473;&#23450;&#19968;&#20010;&#26465;&#20214;</a></li><li><a href="#7">&#20108;&#39033;&#20998;&#24067;&#65288;&#26381;&#20174;0-1&#20998;&#24067;&#65289;&#65306;binopdf</a></li><li><a href="#8">&#32472;&#21046;&#27010;&#29575;&#23494;&#24230;&#26354;&#32447;</a></li><li><a href="#9">&#22270;&#20687;&#26059;&#36716;</a></li><li><a href="#10">&#20351;&#29992;for&#24490;&#29615;&#23436;&#25104;&#21160;&#24577;&#22270;</a></li><li><a href="#11">&#22270;&#20687;&#19977;&#35270;&#22270;&#65292;&#38544;&#20989;&#25968;&#21477;&#26564;@&#30340;&#20351;&#29992;</a></li><li><a href="#12">&#19977;&#35270;&#22270;,view()&#35843;&#25972;&#35270;&#35282;</a></li><li><a href="#13">&#27888;&#21202;&#23637;&#24320;&#65306;taylor&#20989;&#25968;</a></li><li><a href="#14">&#21160;&#24577;&#36807;&#31243;</a></li><li><a href="#15">&#27714;&#20989;&#25968;&#30340;&#21453;&#20989;&#25968;&#65306;finverse(y,x)</a></li><li><a href="#16">fimplicit3&#20989;&#25968;&#65292;&#23545;&#19977;&#32500;&#30340;&#38544;&#20989;&#25968;&#32472;&#22270;</a></li><li><a href="#17">&#23545;&#20989;&#25968;&#35299;&#26512;&#24335;&#36827;&#34892;&#20462;&#25913;subs</a></li><li><a href="#18">&#20613;&#37324;&#21494;&#21464;&#25442;&#65292;&#20989;&#25968;&#30340;&#36924;&#36817;</a></li><li><a href="#19">&#35843;&#29992;&#19979;&#36848;&#33258;&#23450;&#20041;&#30340;&#20613;&#37324;&#21494;&#20989;&#25968;</a></li><li><a href="#20">&#21160;&#24577;&#28436;&#21464;&#36807;&#31243;,&#23545;&#20998;&#27573;&#20989;&#25968;f(x)=|x|/x&#30340;&#36924;&#36817;</a></li><li><a href="#21">&#35201;&#35843;&#29992;&#30340;&#33258;&#23450;&#20041;&#20989;&#25968;&#65292;&#20613;&#37324;&#21494;&#20989;&#25968;&#30340;&#31616;&#21333;&#23450;&#20041;</a></li></ul></div><h2 id="1">&#25968;&#25454;&#25554;&#20540;</h2><pre class="codeinput"><span class="comment">%&#22312;&#31163;&#25955;&#25968;&#25454;&#30340;&#22522;&#30784;&#19978;&#34917;&#25554;&#36830;&#32493;&#20989;&#25968;&#65292;&#20351;&#24471;&#36825;&#26465;&#36830;&#32493;&#26354;&#32447;&#36890;&#36807;&#20840;&#37096;&#32473;&#23450;&#30340;&#31163;&#25955;&#25968;&#25454;&#28857;&#12290;</span>
<span class="comment">%&#25554;&#20540;&#26159;&#31163;&#25955;&#20989;&#25968;&#36924;&#36817;&#30340;&#37325;&#35201;&#26041;&#27861;&#65292;&#21033;&#29992;&#23427;&#21487;&#36890;&#36807;&#20989;&#25968;&#22312;&#26377;&#38480;&#20010;&#28857;&#22788;&#30340;&#21462;&#20540;&#29366;&#20917;&#65292;</span>
<span class="comment">%&#20272;&#31639;&#20986;&#20989;&#25968;&#22312;&#20854;&#20182;&#28857;&#22788;&#30340;&#36817;&#20284;&#20540;</span>
x=[0 3 5 7 9 11 12 13 14 15];
y=[0 1.2 1.7 2.0 2.1 2.0 1.8 1.2 1.0 1.6];
plot(x,y,<span class="string">'.'</span>) <span class="comment">%&#29983;&#25104;&#31163;&#25955;&#28857;</span>
</pre><img vspace="5" hspace="5" src="LearningMatlab2_01.png" alt=""> <h2 id="2">&#20351;&#29992;interp1&#20989;&#25968;&#65306;interp1&#65288;x,y,x1,mode&#65289;</h2><pre class="codeinput">x=[0 3 5 7 9 11 12 13 14 15];
y=[0 1.2 1.7 2.0 2.1 2.0 1.8 1.2 1.0 1.6];
x1=0:0.1:15;         <span class="comment">%x&#20174;0&#21040;15&#65292;&#25353;&#31934;&#24230;&#20026;0&#65292;1&#36827;&#34892;&#25554;&#20540;</span>
<span class="comment">%</span>
subplot(2,2,1);      <span class="comment">%&#23558;figure&#21010;&#20998;&#20026;2&#34892;2&#21015;</span>
y1=interp1(x,y,x1,<span class="string">'linear'</span>);<span class="comment">%&#30456;&#37051;&#31163;&#25955;&#28857;&#29992;&#32447;&#27573;&#30452;&#25509;&#36830;&#36215;&#26469;&#65288;</span>
plot(x1,y1);
title (<span class="string">'linear'</span>);
<span class="comment">%</span>
subplot(2,2,2);
y2=interp1(x,y,x1,<span class="string">'nearest'</span>);<span class="comment">%&#26368;&#36817;&#28857;&#25554;&#20540;&#65292;&#36873;&#25321;&#26368;&#38752;&#36817;&#30340;&#26679;&#26412;&#28857;&#30340;&#20540;&#20316;&#20026;&#24046;&#20540;&#25968;&#25454;</span>
plot(x1,y2);
title (<span class="string">'nearest'</span>);
<span class="comment">%</span>
subplot(2,2,3);
y3=interp1(x,y,x1,<span class="string">'pchip'</span>);<span class="comment">%&#20998;&#27573;3&#27425;&#22467;&#23572;&#31859;&#29305;&#25554;&#20540;&#65292;&#31163;&#25955;&#25968;&#25454;&#28857;&#22312;&#25554;&#20540;&#20989;&#25968;&#19978;&#65292;</span>
<span class="comment">%&#36824;&#35201;&#28385;&#36275;&#33509;&#24178;&#31163;&#25955;&#25968;&#25454;&#28857;&#22788;&#30340;&#19968;&#38454;&#23548;&#25968;&#23384;&#22312;&#19988;&#36830;&#32493;&#65292;&#20351;&#24471;&#26354;&#32447;&#24179;&#28369;&#19988;&#20855;&#26377;&#20445;&#24418;&#24615;</span>
plot(x1,y3);
title (<span class="string">'pchip'</span>);
<span class="comment">%</span>
subplot(2,2,4);
y4=interp1(x,y,x1,<span class="string">'spline'</span>);<span class="comment">%&#19977;&#27425;&#26679;&#26465;&#25554;&#20540;&#65292;&#37319;&#29992;&#20998;&#27573;&#19977;&#27425;&#22810;&#39033;&#24335;&#65292;&#38500;&#28385;&#36275;&#31163;&#25955;&#25968;&#25454;&#28857;&#22312;&#25554;&#20540;&#20989;&#25968;&#19978;&#65292;</span>
<span class="comment">%&#36824;&#35201;&#28385;&#36275;&#33509;&#24178;&#31163;&#25955;&#25968;&#25454;&#28857;&#22788;&#30340;&#19968;&#38454;&#23548;&#25968;&#21644;&#20108;&#38454;&#23548;&#25968;&#23384;&#22312;&#19988;&#36830;&#32493;</span>
plot(x1,y4);
title (<span class="string">'spline'</span>);
</pre><img vspace="5" hspace="5" src="LearningMatlab2_02.png" alt=""> <h2 id="3">&#26354;&#32447;&#25311;&#21512;</h2><pre>&#36873;&#25321;&#36866;&#24403;&#30340;&#26354;&#32447;&#31867;&#22411;&#26469;&#25311;&#21512;&#35266;&#27979;&#25968;&#25454;&#65292;&#24182;&#29992;&#25311;&#21512;&#30340;&#26354;&#32447;&#26041;&#31243;&#20998;&#26512;&#20004;&#21464;&#37327;&#38388;&#30340;&#20851;&#31995;&#12290;</pre><h2 id="4">&#26368;&#23567;&#20108;&#20056;&#27861;&#65292;polyfit&#20989;&#25968;&#29992;&#20110;&#36827;&#34892;&#26354;&#32447;&#25311;&#21512;</h2><pre class="codeinput">clf
x=1790:10:2010;
y=[3 5 7 9 12 13 15 16 18 21 23 37 24 29 30 28 33 34 36 38 39 44 42];
plot(x,y,<span class="string">'r.'</span>)
f=polyfit(x,y,3); <span class="comment">%polyfit(x,y,n),n=3&#23601;&#26159;&#29992;&#19977;&#27425;&#22810;&#39033;&#24335;&#36827;&#34892;&#25311;&#21512;</span>
x1=1790:0.2:2010; <span class="comment">%&#37325;&#26032;&#23450;&#20041;&#33258;&#21464;&#37327;x1</span>
y1=polyval(f,x1); <span class="comment">%&#37325;&#26032;&#23450;&#20041;&#22240;&#21464;&#37327;y1&#65292;</span>
plot(x,y,<span class="string">'r*'</span>,x1,y1,<span class="string">'b'</span>)
<span class="comment">%&#36890;&#36807;&#23545;&#31163;&#25955;&#25968;&#25454;&#30340;&#25311;&#21512;&#65292;&#21487;&#20197;&#23545;&#21518;&#38754;&#30340;&#25968;&#25454;&#36827;&#34892;&#39044;&#27979;</span>
ans=polyval(f,2020);
<span class="comment">%&#22810;&#39033;&#24335;&#20989;&#25968;&#25311;&#21512;&#25110;&#25554;&#20540;&#65292;&#24182;&#38750;&#36234;&#39640;&#36234;&#22909;</span>
<span class="comment">%&#22810;&#39033;&#24335;&#20989;&#25968;&#27425;&#25968;&#36234;&#39640;&#23481;&#26131;&#20135;&#29983;&#25391;&#33633;&#32780;&#20559;&#31163;&#21407;&#20989;&#25968;&#65292;&#20351;&#24471;&#35823;&#24046;&#22686;&#22823;</span>
</pre><pre class="codeoutput">&#35686;&#21578;: &#22810;&#39033;&#24335;&#26410;&#27491;&#30830;&#35774;&#32622;&#26465;&#20214;&#12290;&#35831;&#28155;&#21152;&#20855;&#26377;&#19981;&#21516; X &#20540;&#30340;&#28857;&#65292;&#20943;&#23569;&#22810;&#39033;&#24335;&#30340;&#38454;&#25968;&#65292;&#25110;&#32773;&#23581;&#35797;&#25353;&#29031;
HELP POLYFIT &#20013;&#25152;&#36848;&#36827;&#34892;&#23621;&#20013;&#21644;&#32553;&#25918;&#12290; 
</pre><img vspace="5" hspace="5" src="LearningMatlab2_03.png" alt=""> <h2 id="5">dsolve&#20989;&#25968;&#21487;&#20197;&#36827;&#34892;&#24494;&#20998;&#26041;&#31243;&#30340;&#27714;&#35299;</h2><pre class="codeinput"><span class="comment">%dsolve&#65288;f,g,x&#65289;.f,g&#25351;&#24494;&#20998;&#26041;&#31243;&#34920;&#36798;&#24335;&#65292;x&#26159;&#33258;&#21464;&#37327;</span>
<span class="comment">%&#22312;&#31526;&#21495;&#35745;&#31639;&#20013;&#65292;&#29992;D&#20195;&#34920;&#27714;&#23548;&#65292;Dy&#26159;y&#30340;&#19968;&#38454;&#23548;&#25968;dy/dx&#65288;&#19981;&#26159;y&#30340;&#19968;&#38454;&#24494;&#20998;&#65289;&#65292;D2y&#26159;&#20108;&#38454;&#23548;.....</span>
<span class="comment">%Dy2(3)=-1&#23601;&#26159;x=3,y''=-1</span>
<span class="comment">%&#27714;&#35299;&#24494;&#20998;&#26041;&#31243;&#65306;dy/dx=3*x^2*y</span>
syms <span class="string">x</span> <span class="string">y</span>
f=<span class="string">'Dy=3*x^2*y'</span><span class="comment">%f&#26469;&#23450;&#20041;&#19978;&#38754;&#30340;&#24494;&#20998;&#26041;&#31243;&#29992;''&#21253;&#21547;</span>
dsolve(f,x);   <span class="comment">%&#24471;&#20986;&#30340;&#26159;&#36890;&#35299;</span>
</pre><pre class="codeoutput">
f =

    'Dy=3*x^2*y'

</pre><h2 id="6">&#29305;&#35299;&#65292;&#32473;&#23450;&#19968;&#20010;&#26465;&#20214;</h2><pre class="codeinput">syms <span class="string">x</span> <span class="string">y</span>
f=<span class="string">'x*y+(x^2+1)*Dy=0'</span>;<span class="comment">%xy+(x^2+1)dy/dx=0</span>
g=<span class="string">'y(0)=1'</span>           <span class="comment">%&#32473;&#23450;&#26465;&#20214;&#65292;y(0)=1</span>
Slu=dsolve(f,g,x)
pretty(Slu)
</pre><pre class="codeoutput">
g =

    'y(0)=1'

 
Slu =
 
1/(x^2 + 1)^(1/2)
 
      1
------------
      2
sqrt(x  + 1)

</pre><h2 id="7">&#20108;&#39033;&#20998;&#24067;&#65288;&#26381;&#20174;0-1&#20998;&#24067;&#65289;&#65306;binopdf</h2><pre class="codeinput"><span class="comment">%binopdf(k,n,p)</span>
<span class="comment">%&#19977;&#20010;&#21442;&#25968;&#65292;&#19968;&#20849;&#36827;&#34892;n&#27425;&#65292;&#20107;&#20214;&#21457;&#29983;&#20102;k&#27425;&#65292;&#27599;&#27425;&#27010;&#29575;&#20026;p</span>
px=binopdf(45,100,0.5) <span class="comment">%&#36827;&#34892;100&#27425;&#23454;&#39564;&#65292;&#20107;&#20214;&#21457;&#29983;45&#27425;&#65292;&#27599;&#27425;&#27010;&#29575;&#20026;0.5</span>
<span class="comment">%p(x=k)=C(n,k)*p^k*(1-p)^(n-k)</span>
</pre><pre class="codeoutput">
px =

     0.048474

</pre><h2 id="8">&#32472;&#21046;&#27010;&#29575;&#23494;&#24230;&#26354;&#32447;</h2><pre class="codeinput">clf
x=1:1:100;
p=binopdf(x,100,0.5);
plot(x,p);
title(<span class="string">'&#20108;&#39033;&#20998;&#24067;'</span>)
<span class="comment">%&#24403;&#20108;&#39033;&#20998;&#24067;&#30340;n&#24456;&#22823;&#32780;p&#24456;&#23567;&#26102;&#65292;&#27850;&#26494;&#20998;&#24067;&#21487;&#20316;&#20026;&#20108;&#39033;&#20998;&#24067;&#30340;&#36817;&#20284;,&#20989;&#25968;&#65306;poisspdf</span>
</pre><img vspace="5" hspace="5" src="LearningMatlab2_04.png" alt=""> <h2 id="9">&#22270;&#20687;&#26059;&#36716;</h2><pre class="codeinput">t=linspace(0,10*pi,200);
x=sin(t)+t.*cos(t);
y=cos(t)-t.*sin(t);
z=t;
subplot(1,2,1)
plot3(x,y,z);
xlabel(<span class="string">'x&#36724;'</span>);
grid <span class="string">on</span>;
subplot(1,2,2)
f=plot3(x,y,z);<span class="comment">%&#23558;&#22270;&#30011;&#36171;&#20540;&#32473;f</span>
<span class="comment">%f&#26159;&#38656;&#35201;&#36827;&#34892;&#26059;&#36716;&#30340;&#20989;&#25968;&#65292;v&#26159;&#19968;&#20010;&#19968;&#34892;&#19977;&#21015;&#30340;&#30697;&#38453;[x,y,z]&#65292;</span>
<span class="comment">%&#30697;&#38453;&#20013;&#27599;&#20010;&#20803;&#32032;&#21482;&#26377;0 1&#20004;&#20010;&#21462;&#20540;&#65292;&#20195;&#34920;&#32469;&#21738;&#20010;&#36724;&#26059;&#36716;&#65292;x&#26159;&#26059;&#36716;&#30340;&#35282;&#24230;</span>
rotate(f,[1 0 0],90)<span class="comment">%&#23545;x&#36724;&#36873;&#25321;90&#24230;</span>
xlabel(<span class="string">'x&#36724;'</span>);
grid <span class="string">on</span>;
</pre><img vspace="5" hspace="5" src="LearningMatlab2_05.png" alt=""> <h2 id="10">&#20351;&#29992;for&#24490;&#29615;&#23436;&#25104;&#21160;&#24577;&#22270;</h2><pre class="codeinput">clf
t=linspace(0,10*pi,200);
x=sin(t)+t.*cos(t);
y=cos(t)-t.*sin(t);
z=t;
f=plot3(x,y,z);<span class="comment">%&#29992;f&#23384;&#20648;&#19968;&#19979;&#20989;&#25968;</span>
xlabel(<span class="string">'x=sint+tcost'</span>);
ylabel(<span class="string">'y=cost-tsint'</span>);
zlabel(<span class="string">'z=t'</span>);
title(<span class="string">'&#19977;&#32500;&#34746;&#26059;&#32447;'</span>);
axis([-50,50,-50,50,0,40])
grid <span class="string">on</span>;
<span class="keyword">for</span> i=0:360
rotate(f,[0 0 1],1)
pause(0.003)
<span class="keyword">end</span>
</pre><img vspace="5" hspace="5" src="LearningMatlab2_06.png" alt=""> <h2 id="11">&#22270;&#20687;&#19977;&#35270;&#22270;&#65292;&#38544;&#20989;&#25968;&#21477;&#26564;@&#30340;&#20351;&#29992;</h2><pre class="codeinput"><span class="comment">%slice&#20989;&#25968;&#29992;&#20110;&#23545;&#22270;&#20687;&#36827;&#34892;&#20999;&#38754;</span>
<span class="comment">%slice(x,y,z,v&#65292;a,b,c)</span>
<span class="comment">%x,y,z,&#20316;&#20026;&#22352;&#26631;&#23450;&#20041;&#19977;&#32500;&#22270;&#20687;v</span>
<span class="comment">%a,b,c&#20316;&#20026;&#30697;&#38453;&#65292;&#35760;&#24405;&#20999;&#38754;&#20301;&#32622;</span>
f=@(x,y,z) x^2+y^2+z^2-4;  <span class="comment">%&#29699;&#30340;&#38544;&#20989;&#25968;&#65292;&#65288;x,y,z&#65289;&#26159;&#35843;&#29992;&#21477;&#26564;&#65292;x^2+y^2+z^2-4&#20026;&#24819;&#34920;&#36798;&#30340;&#24335;&#23376;</span>
[x,y,z]=meshgrid(-2:0.1:2);<span class="comment">%XYZ&#30340;&#21462;&#20540;&#33539;&#22260;-2&#21040;2&#65292;&#31934;&#24230;0.1</span>
v=x.^2+y.^2+z.^2-4;      <span class="comment">%&#29699;</span>
clf
fimplicit3(f,[-2 2 -2 2 -2 2],<span class="string">'d'</span>);<span class="comment">%&#36825;&#20010;&#20989;&#25968;&#29992;&#20110;&#32472;&#21046;&#19977;&#32500;&#38544;&#20989;&#25968;&#22270;&#20687;</span>
title(<span class="string">'&#20999;&#21106;&#22270;'</span>)
hold <span class="string">on</span>
slice(x,y,z,v,1,2,1.5)<span class="comment">% &#22312;x=1,y=2,z=1.5&#22788;&#20999;v</span>
</pre><pre class="codeoutput">&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
</pre><img vspace="5" hspace="5" src="LearningMatlab2_07.png" alt=""> <h2 id="12">&#19977;&#35270;&#22270;,view()&#35843;&#25972;&#35270;&#35282;</h2><pre class="codeinput"><span class="comment">%&#21019;&#24314;&#20989;&#25968;&#21644;&#20999;&#38754;</span>
clf
f=@(x,y,z) x^2+y^2+z^2-4;
[x,y,z]=meshgrid(-2:0.1:2);
v=x.^2+y.^2+z.^2-4;
<span class="comment">%&#21407;&#22270;</span>
subplot(2,2,1)
fimplicit3(f,[-2 2 -2 2 -2 2],<span class="string">'d'</span>)
hold <span class="string">on</span>
slice(x,y,z,v,1,2,1.5)
<span class="comment">%&#20463;&#35270;&#22270;</span>
subplot(2,2,2)
fimplicit3(f,[-2 2 -2 2 -2 2],<span class="string">'d'</span>)
hold <span class="string">on</span>
slice(x,y,z,v,1,2,1.5)
view(0,90)
title(<span class="string">'&#20463;&#35270;&#22270;'</span>)
<span class="comment">%&#20027;&#35270;&#22270;</span>
subplot(2,2,3)
fimplicit3(f,[-2 2 -2 2 -2 2],<span class="string">'d'</span>)
hold <span class="string">on</span>
slice(x,y,z,v,1,2,1.5)
view(270,0)
title(<span class="string">'&#20027;&#35270;&#22270;'</span>)
<span class="comment">%&#24038;&#35270;&#22270;</span>
subplot(2,2,4)
fimplicit3(f,[-2 2 -2 2 -2 2],<span class="string">'d'</span>)
hold <span class="string">on</span>
slice(x,y,z,v,1,2,1.5)
view(180,0)
title(<span class="string">'&#24038;&#35270;&#22270;'</span>)
</pre><pre class="codeoutput">&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
</pre><img vspace="5" hspace="5" src="LearningMatlab2_08.png" alt=""> <h2 id="13">&#27888;&#21202;&#23637;&#24320;&#65306;taylor&#20989;&#25968;</h2><pre class="codeinput"><span class="comment">%f=taylor(y,x,x0,'Order',n)</span>
<span class="comment">%&#33258;&#21464;&#37327;x&#65292;&#20989;&#25968;y&#65292;&#22312;x=x0&#28857;&#23637;&#24320;&#65292;'Order'&#24517;&#39035;&#21152;&#19978;&#65288;&#21253;&#25324;&#21333;&#24341;&#21495;&#65289;</span>
<span class="comment">%n&#26159;&#25351;&#39640;&#38454;&#26080;&#31351;&#23567;&#65292;&#20063;&#23601;&#26159;&#23637;&#24320;&#21040;n-1&#38454;</span>
syms <span class="string">x</span> <span class="string">y</span><span class="comment">%&#35299;&#26512;&#24335;&#35201;&#29992;&#31526;&#21495;&#21464;&#37327;&#23450;&#20041;</span>
y=sin(x)
f=taylor(y,x,0,<span class="string">'Order'</span>,6)
pretty(f)
</pre><pre class="codeoutput"> 
y =
 
sin(x)
 
 
f =
 
x^5/120 - x^3/6 + x
 
  5    3
 x    x
--- - -- + x
120    6

</pre><h2 id="14">&#21160;&#24577;&#36807;&#31243;</h2><pre class="codeinput">clf
<span class="keyword">for</span> i=1:2:36
x=linspace(-5*pi,5*pi,30000);
y=sin(x);
plot(x,y,<span class="string">'r-'</span>)
hold <span class="string">on</span> <span class="comment">%&#20197;&#19979;&#26159;&#23637;&#24320;&#36807;&#31243;</span>
syms <span class="string">x</span> <span class="string">y</span>
y=sin(x);
f=taylor(y,x,0,<span class="string">'Order'</span>,i); <span class="comment">%&#20174;&#19968;&#38454;&#24320;&#22987;&#23637;&#24320;&#21040;&#19977;&#21313;&#20845;&#38454;&#23637;&#24320;</span>
h=ezplot(f,[-5*pi,5*pi]);  <span class="comment">%&#36825;&#37324;&#22240;&#20026;&#26159;&#29992;&#30340;&#31526;&#21495;&#21464;&#37327;&#65292;&#35201;&#29992;ezplot&#26469;&#30011;&#22270;</span>
axis([-5*pi,5*pi,-1.2,1.2]);
set(h,<span class="string">'Color'</span>,<span class="string">'m'</span>)
pause(0.5)
hold <span class="string">off</span>
<span class="keyword">end</span>
</pre><img vspace="5" hspace="5" src="LearningMatlab2_09.png" alt=""> <h2 id="15">&#27714;&#20989;&#25968;&#30340;&#21453;&#20989;&#25968;&#65306;finverse(y,x)</h2><pre class="codeinput"><span class="comment">%&#20854;&#20013;x&#65292;y&#20998;&#21035;&#20026;&#33258;&#21464;&#37327;&#65292;&#22240;&#21464;&#37327;---&gt;y=lnx&#30340;&#21453;&#20989;&#25968;&#20026;e^x</span>
syms <span class="string">x</span> <span class="string">y</span> <span class="string">f</span>
y=log(x);      <span class="comment">%&#20197;e&#20026;&#24213;&#25968;&#30340;&#23545;&#25968;&#65292;&#25968;&#23398;&#20013;&#30340;lnx</span>
f=finverse(y,x);
</pre><h2 id="16">fimplicit3&#20989;&#25968;&#65292;&#23545;&#19977;&#32500;&#30340;&#38544;&#20989;&#25968;&#32472;&#22270;</h2><pre class="codeinput"><span class="comment">%&#35843;&#29992;&#26684;&#24335;fimplicit3&#65288;f,[xmin,xmax,ymin,ymax,zmin,zmax]&#65289;</span>
<span class="comment">%&#27880;&#24847;&#36825;&#37324;&#30340;f&#38656;&#35201;&#29992;&#20989;&#25968;&#21477;&#26564;&#35843;&#29992;&#65306;@&#65288;x,y,z&#65289;</span>
clf
g=@(x,y,z) x^2+y^2+z^2-1; <span class="comment">%&#23450;&#20041;&#29699;&#30340;&#38544;&#20989;&#25968;</span>
fimplicit3(g,[-1 1 -1 1 -1 1],<span class="string">'b'</span>)<span class="comment">%&#30011;g&#20989;&#25968;&#65292;xyz&#33539;&#22260;&#24050;&#23450;&#65292;&#39068;&#33394;&#20026;&#34013;&#33394;</span>
</pre><pre class="codeoutput">&#35686;&#21578;: &#20989;&#25968;&#22788;&#29702;&#25968;&#32452;&#36755;&#20837;&#26102;&#34892;&#20026;&#24322;&#24120;&#12290;&#35201;&#25913;&#21892;&#24615;&#33021;&#65292;&#35831;&#23558;&#24744;&#30340;&#20989;&#25968;&#27491;&#30830;&#21521;&#37327;&#21270;&#65292;&#20197;&#36820;&#22238;&#22823;&#23567;&#21644;&#24418;&#29366;
&#19982;&#36755;&#20837;&#21442;&#25968;&#30456;&#21516;&#30340;&#36755;&#20986;&#12290; 
</pre><img vspace="5" hspace="5" src="LearningMatlab2_10.png" alt=""> <h2 id="17">&#23545;&#20989;&#25968;&#35299;&#26512;&#24335;&#36827;&#34892;&#20462;&#25913;subs</h2><p>subs&#20989;&#25968;&#29992;&#20110;&#23545;&#35299;&#26512;&#24335;&#36827;&#34892;&#20462;&#25913;&#65306;</p><pre class="codeinput"><span class="comment">%&#35843;&#29992;&#26684;&#24335;&#65306;subs(f,f1,f2) &#23558;&#34920;&#36798;&#24335;f&#20013;&#30340;f1&#29255;&#27573;&#26367;&#25442;&#25104;f2</span>
syms <span class="string">x</span> <span class="string">f</span>
f=sin(x)+x
g=subs(f,sin(x),log(x)) <span class="comment">%&#23558;f=sin(x)=x&#20013;&#30340;sin(x)&#26367;&#25442;&#25104;log(x).&#32467;&#26524;&#20026;&#65306;g=log&#65288;x&#65289;+x</span>
</pre><pre class="codeoutput"> 
f =
 
x + sin(x)
 
 
g =
 
x + log(x)
 
</pre><h2 id="18">&#20613;&#37324;&#21494;&#21464;&#25442;&#65292;&#20989;&#25968;&#30340;&#36924;&#36817;</h2><pre class="codeinput"><span class="comment">%&#20219;&#20309;&#21608;&#26399;&#20989;&#25968;&#37117;&#21487;&#20197;&#29992;&#27491;&#24358;&#20989;&#25968;&#21644;&#20313;&#24358;&#20989;&#25968;&#26500;&#25104;&#30340;&#26080;&#31351;&#32423;&#25968;&#26469;&#34920;&#31034;</span>
<span class="comment">%&#36873;&#25321;&#27491;&#24358;&#20989;&#25968;&#19982;&#20313;&#24358;&#20989;&#25968;&#20316;&#20026;&#22522;&#20989;&#25968;</span>
<span class="comment">%web('https://zhuanlan.zhihu.com/p/41455378','-browser')%&#25171;&#24320;&#20851;&#20110;&#20613;&#37324;&#21494;&#32423;&#25968;&#30340;&#25512;&#23548;&#30693;&#20046;&#32593;&#39029;</span>
</pre><h2 id="19">&#35843;&#29992;&#19979;&#36848;&#33258;&#23450;&#20041;&#30340;&#20613;&#37324;&#21494;&#20989;&#25968;</h2><pre class="codeinput">syms <span class="string">x</span> <span class="string">f</span>
f=x*(x-pi)*(x-2*pi);
F=fuliye(f,x,6,0,2*pi);
<span class="comment">%&#22240;&#20026;&#35843;&#29992;&#30340;&#20851;&#31995;&#65292;&#23558;&#23616;&#37096;&#23450;&#20041;&#30340;&#20989;&#25968;&#25918;&#22312;&#34987;&#35843;&#29992;&#20043;&#21518;</span>
<span class="comment">%&#22240;&#20026;&#33050;&#26412;&#20013;&#30340;&#20989;&#25968;&#23450;&#20041;&#24517;&#39035;&#20986;&#29616;&#22312;&#25991;&#20214;&#30340;&#32467;&#23614;&#12290;&#25152;&#20197;&#33258;&#23450;&#20041;&#30340;&#20989;&#25968;&#22312;&#26368;&#21518;</span>
</pre><h2 id="20">&#21160;&#24577;&#28436;&#21464;&#36807;&#31243;,&#23545;&#20998;&#27573;&#20989;&#25968;f(x)=|x|/x&#30340;&#36924;&#36817;</h2><pre class="codeinput">clf
syms <span class="string">x</span>
y=abs(x)/x;
xx=-pi:pi/100:pi;
xx=xx(xx~=0); <span class="comment">%&#25248;&#28857;&#65288;&#21435;&#38500;0&#65289;&#65292;&#20998;&#27597;&#19981;&#33021;&#26377;0</span>
yy=subs(y,x,xx); <span class="comment">%&#26367;&#25442;&#12290;&#36825;&#37324;&#19981;&#22823;&#22909;&#25026;&#65292;&#20026;&#20102;&#20351;&#29992;plot&#20989;&#25968;&#65292;</span>
<span class="comment">%&#25105;&#20204;&#35201;&#29992;&#23494;&#38598;&#30340;&#28857;&#22352;&#26631;&#32780;&#19981;&#26159;&#31526;&#21495;&#37327;x&#26469;&#32472;&#22270;</span>
L=pi;
a0=int(y,x,-L,L);<span class="comment">%&#31215;&#20998;</span>
f=a0/2;
F=subs(f,x,xx); <span class="comment">%&#26367;&#25442;</span>
plot(xx,yy,xx,F);
axis([-pi,pi,-1.5,1.5])
pause(0.1) <span class="comment">%&#38388;&#38548;0.1&#31186;</span>
hold <span class="string">off</span>
<span class="keyword">for</span> i=1:20
ai=int( y*cos(i*pi*x/L),x,-L,L )/L;
bi=int( y*sin(i*pi*x/L),x,-L,L )/L;
f=f+ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L); <span class="comment">%&#32047;&#21152;&#65292;&#36825;&#37324;&#27809;&#26377;&#20351;&#29992;&#33258;&#23450;&#20041;&#20989;&#25968;&#65292;</span>
<span class="comment">%&#26159;&#20026;&#20102;&#25552;&#39640;&#35745;&#31639;&#25928;&#29575;&#65292;&#21407;&#29702;&#26377;&#28857;&#31867;&#20284;&#31639;&#27861;&#31454;&#36187;&#20013;&#30340;&#36882;&#25512;&#65292;&#30465;&#21435;&#20102;&#19968;&#20123;&#27809;&#26377;&#24517;&#35201;&#30340;&#37325;&#22797;&#35745;&#31639;</span>
F=subs(f,x,xx);
plot(xx,yy,xx,F)
axis([-pi,pi,-1.5,1.5])
pause(0.001) <span class="comment">%&#22240;&#20026;&#36816;&#31639;&#26412;&#36523;&#38656;&#35201;&#32791;&#26102;&#38388;&#65292;</span>
<span class="comment">%&#25152;&#20197;&#20572;&#39039;&#26102;&#38388;&#23601;&#35774;&#32622;&#30340;&#26497;&#30701;&#12290;&#20294;&#26159;&#20026;&#20102;&#23637;&#31034;&#21160;&#24577;&#25928;&#26524;&#65292;&#19981;&#24471;&#19981;&#21152;&#19978;pause&#20989;&#25968;</span>
hold <span class="string">off</span>
<span class="keyword">end</span>
</pre><img vspace="5" hspace="5" src="LearningMatlab2_11.png" alt=""> <h2 id="21">&#35201;&#35843;&#29992;&#30340;&#33258;&#23450;&#20041;&#20989;&#25968;&#65292;&#20613;&#37324;&#21494;&#20989;&#25968;&#30340;&#31616;&#21333;&#23450;&#20041;</h2><p>&#32473;&#23450;&#21608;&#26399;&#20989;&#25968;&#20026;f(x),x&#23646;&#20110;[-L,L]</p><pre class="codeinput"><span class="comment">%&#21017;&#65292;f(x)=f(x+kT),k&#20026;&#33258;&#28982;&#25968;&#65292;T&#20026;&#21608;&#26399;</span>
<span class="comment">%&#22914;&#26524;&#21306;&#38388;&#19981;&#23545;&#31216;&#65292;&#19979;x&#23646;&#20110;[a&#65292;b]</span>
<span class="comment">%&#21017;&#23558;&#20989;&#25968;&#21521;&#24038;&#24179;&#31227;&#65288;a+b&#65289;/2&#20010;&#21333;&#20301;&#65292;&#27492;&#26102;L=(b-a)/2</span>
<span class="comment">%&#20613;&#37324;&#21494;&#32423;&#25968;&#20026;f(x)=a0/2+{ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L)}&#65292;</span>
<span class="comment">%&#36825;&#37324;{}&#34920;&#31034;i=1&#21040;&#27491;&#26080;&#31351;&#30340;&#32047;&#21152;</span>
<span class="keyword">function</span> F= fuliye(f,x,n,a,b) <span class="comment">%&#34920;&#36798;&#24335;f,&#33258;&#21464;&#37327;x&#65292;n&#38454;&#23637;&#24320;&#65292;&#21306;&#38388;&#65288;a,b&#65289;</span>
L=(b-a)/2;
<span class="keyword">if</span> abs(a+b)&gt;0     <span class="comment">%&#19981;&#23545;&#31216;</span>
f=subs(f,x,x+L+a); <span class="comment">%&#21521;&#24038;&#24179;&#31227;&#65292;&#29992;&#21040;subs&#20989;&#25968;&#23545;&#35299;&#26512;&#24335;&#36827;&#34892;&#20462;&#25913;</span>
<span class="keyword">end</span>
a0=int(f,x,-L,L);F=a0/2;
<span class="keyword">for</span> i=1:n     <span class="comment">%&#32047;&#21152;&#21644;&#25105;&#20204;&#29992;for&#24490;&#29615;&#23454;&#29616;</span>
ai=int( f*cos(i*pi*x/L),x,-L,L )/L ; <span class="comment">%int&#20989;&#25968;&#34920;&#31034;&#31215;&#20998;</span>
bi=int( f*sin(i*pi*x/L),x,-L,L )/L;
F=F+ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L);
<span class="keyword">end</span>
<span class="keyword">if</span> abs(a+b)&gt;0
F=subs(F,x,x-L-a); <span class="comment">%&#20877;&#24179;&#31227;&#22238;&#26469;</span>
<span class="keyword">end</span>
<span class="keyword">end</span>
</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% 数据插值
%在离散数据的基础上补插连续函数，使得这条连续曲线通过全部给定的离散数据点。
%插值是离散函数逼近的重要方法，利用它可通过函数在有限个点处的取值状况，
%估算出函数在其他点处的近似值
x=[0 3 5 7 9 11 12 13 14 15];
y=[0 1.2 1.7 2.0 2.1 2.0 1.8 1.2 1.0 1.6];
plot(x,y,'.') %生成离散点
%% 使用interp1函数：interp1（x,y,x1,mode）
x=[0 3 5 7 9 11 12 13 14 15];
y=[0 1.2 1.7 2.0 2.1 2.0 1.8 1.2 1.0 1.6];
x1=0:0.1:15;         %x从0到15，按精度为0，1进行插值
%
subplot(2,2,1);      %将figure划分为2行2列
y1=interp1(x,y,x1,'linear');%相邻离散点用线段直接连起来（
plot(x1,y1);
title ('linear');
%
subplot(2,2,2);
y2=interp1(x,y,x1,'nearest');%最近点插值，选择最靠近的样本点的值作为差值数据
plot(x1,y2);
title ('nearest');
%
subplot(2,2,3);
y3=interp1(x,y,x1,'pchip');%分段3次埃尔米特插值，离散数据点在插值函数上，
%还要满足若干离散数据点处的一阶导数存在且连续，使得曲线平滑且具有保形性
plot(x1,y3);
title ('pchip');
%
subplot(2,2,4);
y4=interp1(x,y,x1,'spline');%三次样条插值，采用分段三次多项式，除满足离散数据点在插值函数上，
%还要满足若干离散数据点处的一阶导数和二阶导数存在且连续
plot(x1,y4);
title ('spline');
%% 曲线拟合
%  选择适当的曲线类型来拟合观测数据，并用拟合的曲线方程分析两变量间的关系。
%% 最小二乘法，polyfit函数用于进行曲线拟合
clf
x=1790:10:2010;
y=[3 5 7 9 12 13 15 16 18 21 23 37 24 29 30 28 33 34 36 38 39 44 42];
plot(x,y,'r.')
f=polyfit(x,y,3); %polyfit(x,y,n),n=3就是用三次多项式进行拟合
x1=1790:0.2:2010; %重新定义自变量x1
y1=polyval(f,x1); %重新定义因变量y1，
plot(x,y,'r*',x1,y1,'b')
%通过对离散数据的拟合，可以对后面的数据进行预测
ans=polyval(f,2020);
%多项式函数拟合或插值，并非越高越好
%多项式函数次数越高容易产生振荡而偏离原函数，使得误差增大
%% dsolve函数可以进行微分方程的求解
%dsolve（f,g,x）.f,g指微分方程表达式，x是自变量
%在符号计算中，用D代表求导，Dy是y的一阶导数dy/dx（不是y的一阶微分），D2y是二阶导.....
%Dy2(3)=-1就是x=3,y''=-1
%求解微分方程：dy/dx=3*x^2*y
syms x y
f='Dy=3*x^2*y'%f来定义上面的微分方程用''包含
dsolve(f,x);   %得出的是通解
%% 特解，给定一个条件
syms x y
f='x*y+(x^2+1)*Dy=0';%xy+(x^2+1)dy/dx=0
g='y(0)=1'           %给定条件，y(0)=1
Slu=dsolve(f,g,x)
pretty(Slu)
%% 二项分布（服从0-1分布）：binopdf
%binopdf(k,n,p)
%三个参数，一共进行n次，事件发生了k次，每次概率为p
px=binopdf(45,100,0.5) %进行100次实验，事件发生45次，每次概率为0.5
%p(x=k)=C(n,k)*p^k*(1-p)^(n-k)
%% 绘制概率密度曲线
clf
x=1:1:100;
p=binopdf(x,100,0.5);
plot(x,p);
title('二项分布')
%当二项分布的n很大而p很小时，泊松分布可作为二项分布的近似,函数：poisspdf
%% 图像旋转
t=linspace(0,10*pi,200);
x=sin(t)+t.*cos(t);
y=cos(t)-t.*sin(t);
z=t;
subplot(1,2,1)
plot3(x,y,z);
xlabel('x轴');
grid on;
subplot(1,2,2)
f=plot3(x,y,z);%将图画赋值给f
%f是需要进行旋转的函数，v是一个一行三列的矩阵[x,y,z]，
%矩阵中每个元素只有0 1两个取值，代表绕哪个轴旋转，x是旋转的角度
rotate(f,[1 0 0],90)%对x轴选择90度
xlabel('x轴');
grid on;
%% 使用for循环完成动态图
clf
t=linspace(0,10*pi,200);
x=sin(t)+t.*cos(t);
y=cos(t)-t.*sin(t);
z=t;
f=plot3(x,y,z);%用f存储一下函数
xlabel('x=sint+tcost');
ylabel('y=cost-tsint');
zlabel('z=t');
title('三维螺旋线');
axis([-50,50,-50,50,0,40])
grid on;
for i=0:360
rotate(f,[0 0 1],1)
pause(0.003)
end
%% 图像三视图，隐函数句柄@的使用
%slice函数用于对图像进行切面
%slice(x,y,z,v，a,b,c)
%x,y,z,作为坐标定义三维图像v
%a,b,c作为矩阵，记录切面位置
f=@(x,y,z) x^2+y^2+z^2-4;  %球的隐函数，（x,y,z）是调用句柄，x^2+y^2+z^2-4为想表达的式子
[x,y,z]=meshgrid(-2:0.1:2);%XYZ的取值范围-2到2，精度0.1
v=x.^2+y.^2+z.^2-4;      %球
clf
fimplicit3(f,[-2 2 -2 2 -2 2],'d');%这个函数用于绘制三维隐函数图像
title('切割图')
hold on
slice(x,y,z,v,1,2,1.5)% 在x=1,y=2,z=1.5处切v
%% 三视图,view()调整视角
%创建函数和切面
clf
f=@(x,y,z) x^2+y^2+z^2-4;
[x,y,z]=meshgrid(-2:0.1:2);
v=x.^2+y.^2+z.^2-4;
%原图
subplot(2,2,1)
fimplicit3(f,[-2 2 -2 2 -2 2],'d')
hold on
slice(x,y,z,v,1,2,1.5)
%俯视图
subplot(2,2,2)
fimplicit3(f,[-2 2 -2 2 -2 2],'d')
hold on
slice(x,y,z,v,1,2,1.5)
view(0,90)
title('俯视图')
%主视图
subplot(2,2,3)
fimplicit3(f,[-2 2 -2 2 -2 2],'d')
hold on
slice(x,y,z,v,1,2,1.5)
view(270,0)
title('主视图')
%左视图
subplot(2,2,4)
fimplicit3(f,[-2 2 -2 2 -2 2],'d')
hold on
slice(x,y,z,v,1,2,1.5)
view(180,0)
title('左视图')
%% 泰勒展开：taylor函数
%f=taylor(y,x,x0,'Order',n)
%自变量x，函数y，在x=x0点展开，'Order'必须加上（包括单引号）
%n是指高阶无穷小，也就是展开到n-1阶
syms x y%解析式要用符号变量定义
y=sin(x)
f=taylor(y,x,0,'Order',6)
pretty(f)
%% 动态过程
clf
for i=1:2:36
x=linspace(-5*pi,5*pi,30000);
y=sin(x);
plot(x,y,'r-')
hold on %以下是展开过程
syms x y
y=sin(x);
f=taylor(y,x,0,'Order',i); %从一阶开始展开到三十六阶展开
h=ezplot(f,[-5*pi,5*pi]);  %这里因为是用的符号变量，要用ezplot来画图
axis([-5*pi,5*pi,-1.2,1.2]);
set(h,'Color','m')
pause(0.5)
hold off
end
%% 求函数的反函数：finverse(y,x)
%其中x，y分别为自变量，因变量REPLACE_WITH_DASH_DASH->y=lnx的反函数为e^x
syms x y f
y=log(x);      %以e为底数的对数，数学中的lnx
f=finverse(y,x);
%% fimplicit3函数，对三维的隐函数绘图
%调用格式fimplicit3（f,[xmin,xmax,ymin,ymax,zmin,zmax]）
%注意这里的f需要用函数句柄调用：@（x,y,z）
clf
g=@(x,y,z) x^2+y^2+z^2-1; %定义球的隐函数
fimplicit3(g,[-1 1 -1 1 -1 1],'b')%画g函数，xyz范围已定，颜色为蓝色
%% 对函数解析式进行修改subs
% subs函数用于对解析式进行修改：
%调用格式：subs(f,f1,f2) 将表达式f中的f1片段替换成f2
syms x f
f=sin(x)+x
g=subs(f,sin(x),log(x)) %将f=sin(x)=x中的sin(x)替换成log(x).结果为：g=log（x）+x
%% 傅里叶变换，函数的逼近
%任何周期函数都可以用正弦函数和余弦函数构成的无穷级数来表示
%选择正弦函数与余弦函数作为基函数
%web('https://zhuanlan.zhihu.com/p/41455378','-browser')%打开关于傅里叶级数的推导知乎网页
%% 调用下述自定义的傅里叶函数
syms x f
f=x*(x-pi)*(x-2*pi);
F=fuliye(f,x,6,0,2*pi);
%因为调用的关系，将局部定义的函数放在被调用之后
%因为脚本中的函数定义必须出现在文件的结尾。所以自定义的函数在最后
%% 动态演变过程,对分段函数f(x)=|x|/x的逼近
clf
syms x
y=abs(x)/x;
xx=-pi:pi/100:pi;
xx=xx(xx~=0); %抠点（去除0），分母不能有0
yy=subs(y,x,xx); %替换。这里不大好懂，为了使用plot函数，
%我们要用密集的点坐标而不是符号量x来绘图
L=pi;
a0=int(y,x,-L,L);%积分
f=a0/2;
F=subs(f,x,xx); %替换
plot(xx,yy,xx,F);
axis([-pi,pi,-1.5,1.5])
pause(0.1) %间隔0.1秒
hold off
for i=1:20
ai=int( y*cos(i*pi*x/L),x,-L,L )/L;
bi=int( y*sin(i*pi*x/L),x,-L,L )/L;
f=f+ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L); %累加，这里没有使用自定义函数，
%是为了提高计算效率，原理有点类似算法竞赛中的递推，省去了一些没有必要的重复计算
F=subs(f,x,xx);
plot(xx,yy,xx,F)
axis([-pi,pi,-1.5,1.5])
pause(0.001) %因为运算本身需要耗时间，
%所以停顿时间就设置的极短。但是为了展示动态效果，不得不加上pause函数
hold off
end
%% 要调用的自定义函数，傅里叶函数的简单定义
% 给定周期函数为f(x),x属于[-L,L]
%则，f(x)=f(x+kT),k为自然数，T为周期
%如果区间不对称，下x属于[a，b]
%则将函数向左平移（a+b）/2个单位，此时L=(b-a)/2
%傅里叶级数为f(x)=a0/2+{ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L)}，
%这里{}表示i=1到正无穷的累加
function F= fuliye(f,x,n,a,b) %表达式f,自变量x，n阶展开，区间（a,b）
L=(b-a)/2;
if abs(a+b)>0     %不对称
f=subs(f,x,x+L+a); %向左平移，用到subs函数对解析式进行修改
end
a0=int(f,x,-L,L);F=a0/2;
for i=1:n     %累加和我们用for循环实现
ai=int( f*cos(i*pi*x/L),x,-L,L )/L ; %int函数表示积分
bi=int( f*sin(i*pi*x/L),x,-L,L )/L;
F=F+ai*cos(i*pi*x/L)+bi*sin(i*pi*x/L);
end
if abs(a+b)>0
F=subs(F,x,x-L-a); %再平移回来
end
end

##### SOURCE END #####
--></body></html>